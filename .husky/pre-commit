#!/bin/sh

# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ†ã‚¹ãƒˆã¨Lint
echo "ğŸ” Running backend tests and lint..."
cd backend
npm run lint || exit 1
npm test || exit 1
cd ..

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒ†ã‚¹ãƒˆã¨Lint  
echo "ğŸ” Running frontend tests and lint..."
cd frontend
npm run lint || true  # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®lintã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒãªã„å ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—
CI=true npm test || exit 1
cd ..

# lint-stagedã®å®Ÿè¡Œ
npx lint-staged